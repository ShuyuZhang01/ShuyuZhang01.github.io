<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Self Practice · Shuyu Zhang</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;600&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Savate:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">

  <!-- Global styles -->
  <link rel="stylesheet" href="style.css">

  <style>
    /* ───────── Self‑Practice page tweaks ───────── */
    .practice-page .container{
      padding-left:clamp(1.5rem,6vw,5rem);
    }
    .practice-page .page-title{
      font-family:"Open Sans",sans-serif;
      font-weight:600;
      text-align:left;
      margin-bottom:2.5rem;
    }

    /* 3‑column grid on desktop */
    .practice-page .work-grid{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(300px,1fr));
      gap:3rem 2rem;
    }

    /* Card cover */
    .practice-page .work-cover{
      aspect-ratio:4/3;
      transition:transform .4s ease;
      width:100%;
      height:auto;
      object-fit:cover;
      display:block;
    }

    .practice-page .work-card{
      box-shadow:0 12px 32px rgba(0,0,0,.38);
      overflow:hidden;
      position:relative;
      cursor:pointer;
      border-radius:1.25rem;
      transition:transform .3s ease;
      background:#000; /* avoids white gap before image loads */
    }
    .practice-page .work-card:hover .work-cover{transform:scale(1.05);}

    /* ───────── Expanded (lightbox) ───────── */
    .practice-page .work-card.expanded{
      position:fixed;
      z-index:999;
      top:50%;
      left:50%;
      width:85vw;
      height:85vh;
      transform:translate(-50%,-50%);
      background:#111;
      box-shadow:0 0 80px rgba(0,0,0,.5);
      display:flex;
      align-items:center;
      justify-content:center;
      flex-direction:column;
      color:#fff;
      padding:2rem;
      font-size:clamp(1.2rem,2.4vw,1.6rem);
      line-height:1.5;
    }
    /* hide thumbnail + overlay inside modal so不会看到"两个框" */
    .practice-page .work-card.expanded .work-cover,
    .practice-page .work-card.expanded .overlay{display:none;}

    /* iframe (video) styling */
    .practice-page .work-card.expanded iframe{
      width:100%;
      height:100%;
      flex:1 1 auto;
      border:none;
      border-radius:.75rem;
      max-height:60vh;
      margin-bottom:1.5rem;
    }

    .practice-page .close-btn{
      position:absolute;
      top:1rem;
      right:1rem;
      background:transparent;
      color:#fff;
      font-size:2rem;
      border:none;
      cursor:pointer;
    }

    /* typing text */
    .typing-text{
      border-right:2px solid #fff;
      white-space:normal; /* allow line wrap so 全文可见 */
      overflow:hidden;
      width:0;
      animation:typing 3s steps(60,end) forwards;
    }
    @keyframes typing{from{width:0;}to{width:100%;}}
  </style>
</head>

<body class="page-dark practice-page">
  <nav class="nav">
    <div class="nav-inner container">
      <a href="index.html" class="brand">SHUYU&nbsp;ZHANG</a>
      <ul class="nav-list">
        <li><a href="about.html">About</a></li>
        <li><a href="works.html">Works</a></li>
        <li><a href="practice.html">Self&nbsp;Practice</a></li>
        <li><a href="cv.html">CV</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
    </div>
  </nav>

  <main class="container">
    <h1 class="page-title">Self&nbsp;Practice</h1>

    <div class="work-grid">
      <!-- ▶ Unity Mini‑Game (video) -->
      <article class="work-card" data-text="A small‑scale game exploring Unity Visual Scripting and some basic Unity C#."
               data-video="https://www.youtube.com/embed/Xo-ZtWO-TLs">
        <!-- use local cover instead of YouTube thumbnail -->
        <img class="work-cover" src="assets/photo/game.png" alt="Unity Mini‑Game Cover">
        <div class="overlay">
          <div>
            <h2 class="work-title">Unity Mini‑Game</h2>
            <p class="work-desc">Unity Visual Script &amp; C# basics</p>
          </div>
        </div>
      </article>

      <!-- ▶ Practice 2 -->
      <article class="work-card" data-text="Lines grow using Perlin noise in Processing.">
        <img class="work-cover" src="assets/img/practice2.jpg" alt="Generative Line Art">
        <div class="overlay">
          <div>
            <h2 class="work-title">Generative Line Art</h2>
            <p class="work-desc">Coded in Processing; lines grow based on Perlin noise.</p>
          </div>
        </div>
      </article>

      <!-- ▶ Practice 3 -->
      <article class="work-card" data-text="Play with particle systems in TouchDesigner.">
        <img class="work-cover" src="assets/img/practice3.jpg" alt="Particle Field">
        <div class="overlay">
          <div>
            <h2 class="work-title">Particle Field</h2>
            <p class="work-desc">TouchDesigner particle system experiment.</p>
          </div>
        </div>
      </article>

      <!-- ▶ Practice 4 -->
      <article class="work-card" data-text="Exploring lighting and texture in Blender.">
        <img class="work-cover" src="assets/img/practice1.jpg" alt="3D Typography Study">
        <div class="overlay">
          <div>
            <h2 class="work-title">3D Typography Study</h2>
            <p class="work-desc">Exploring lighting and texture in Blender.</p>
          </div>
        </div>
      </article>

      <!-- ▶ Practice 5 -->
      <article class="work-card" data-text="Lines grow using Perlin noise in Processing.">
        <img class="work-cover" src="assets/img/practice2.jpg" alt="Generative Line Art">
        <div class="overlay">
          <div>
            <h2 class="work-title">Generative Line Art</h2>
            <p class="work-desc">Coded in Processing; lines grow based on Perlin noise.</p>
          </div>
        </div>
      </article>

      <!-- ▶ Practice 6 -->
      <article class="work-card" data-text="Play with particle systems in TouchDesigner.">
        <img class="work-cover" src="assets/img/practice3.jpg" alt="Particle Field">
        <div class="overlay">
          <div>
            <h2 class="work-title">Particle Field</h2>
            <p class="work-desc">TouchDesigner particle system experiment.</p>
          </div>
        </div>
      </article>
    </div>
  </main>

  <script>
  (function(){
    const cards=document.querySelectorAll('.work-card');
    const body=document.body;

    /* fade‑in on scroll */
    const io=new IntersectionObserver(entries=>{
      entries.forEach(entry=>{if(entry.isIntersecting){entry.target.classList.add('in-view');io.unobserve(entry.target);}});
    },{threshold:0.2});
    cards.forEach(c=>io.observe(c));

    cards.forEach(card=>card.addEventListener('click',()=>expand(card)));

    function expand(card){
      if(card.classList.contains('expanded'))return;

      const closeBtn=document.createElement('button');
      closeBtn.className='close-btn';
      closeBtn.innerHTML='&times;';
      closeBtn.addEventListener('click',e=>{e.stopPropagation();collapse(card,closeBtn);});

      card.appendChild(closeBtn);
      card.classList.add('expanded');
      body.style.overflow='hidden';

      /* build typing description */
      const text=card.dataset.text||'';
      const textElem=document.createElement('p');
      textElem.className='typing-text';
      textElem.textContent=text;

      /* video? */
      if(card.dataset.video){
        const iframe=document.createElement('iframe');
        iframe.src=card.dataset.video+'?autoplay=1&rel=0';
        iframe.allow='accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture';
        iframe.allowFullscreen=true;
        card.appendChild(iframe);
      }

      card.appendChild(textElem);

      /* Esc key */
      const onKey=e=>{if(e.key==='Escape')collapse(card,closeBtn,onKey,textElem);};
      document.addEventListener('keydown',onKey);

      /* click outside */
      setTimeout(()=>{document.addEventListener('click',function outside(ev){if(!card.contains(ev.target)){collapse(card,closeBtn,onKey,textElem);}},{once:true});});
    }

    function collapse(card,btn,keyHandler,textElem){
      card.classList.remove('expanded');
      body.style.overflow='';
      btn.remove();
      const iframe=card.querySelector('iframe');
      if(iframe)iframe.remove();
      if(textElem)textElem.remove();
      if(keyHandler)document.removeEventListener('keydown',keyHandler);
    }

    /* simple parallax */
    window.addEventListener('scroll',()=>{
      cards.forEach(card=>{
        const rect=card.getBoundingClientRect();
        const d=rect.top-innerHeight*0.9;
        card.style.setProperty('--parallax',`${Math.max(d,0)}px`);
      });
    },{passive:true});
  })();
  </script>
</body>
</html>
