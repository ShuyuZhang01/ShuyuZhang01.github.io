<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Works Â· Shuyu Zhang</title>
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;600&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Savate:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
  <!-- Main stylesheet -->
  <link rel="stylesheet" href="style.css">

  <!-- ðŸ”§ Pageâ€‘local quick fixes -->
  <style>
    /* â€”â€” Preserve your wide grid while testing â€”â€” */
    .works-page .work-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:5rem 4rem}

    /* ===== Modal (avoid name clash with .overlay on cards) ===== */
    .modal-overlay{position:fixed;inset:0;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.6);z-index:999}
    .hidden{display:none}
    .modal{width:90%;max-width:600px;max-height:90vh;overflow-y:auto;background:#111;color:#eee;padding:24px;border-radius:16px;position:relative}
    .modal .close{position:absolute;top:12px;right:16px;font-size:28px;background:none;border:none;color:#bbb;cursor:pointer}
    .modal .close:hover{color:#fff}
    .videoWrap{position:relative;width:100%;padding-top:56.25%}
    .videoWrap iframe{position:absolute;inset:0;width:100%;height:100%}
    .intro{margin:24px 0;line-height:1.6}
    .photos{display:grid;gap:12px;grid-template-columns:repeat(auto-fill,minmax(45%,1fr))}
    .photos img{width:100%;height:160px;object-fit:cover;border-radius:8px}
  </style>
</head>
<body class="page-dark works-page">

  <!-- ===== Navbar ===== -->
  <nav class="nav">
    <div class="nav-inner container">
      <a href="index.html" class="brand">SHUYU&nbsp;ZHANG</a>
      <ul class="nav-list">
        <li><a href="about.html">About</a></li>
        <li><a href="works.html">Works</a></li>
        <li><a href="practice.html">Self&nbsp;Practice</a></li>
        <li><a href="cv.html">CV</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
    </div>
  </nav>

  <!-- ===== Works Section ===== -->
  <main class="container">
    <h1 class="page-title">Works</h1>
    <div class="work-grid">
      <!-- Card 1: Hiphop dancer Yu (use modal) -->
      <article id="yu" class="work-card" data-sign="1">
        <img class="work-cover" src="assets/photo/dancer(15).jpg" alt="Hiphop dancer Yu">
        <div class="overlay">Hiphop dancer Yu<br><small>installation performance &amp; game Â· 2024</small></div>
        <button class="close-btn" aria-label="Close">&times;</button>
      </article>

      <!-- Other cards keep original behaviour -->
      <article id="flower" class="work-card" data-sign="-1">
        <img class="work-cover" src="assets/img/works/mycelium.jpg" alt="flower day and night">
        <div class="overlay">flower day and night<br><small>JavaScript Â· 2024</small></div>
        <button class="close-btn" aria-label="Close">&times;</button>
      </article>

      <article id="mocap" class="work-card" data-sign="1">
        <img class="work-cover" src="assets/img/works/digitalbloom.jpg" alt="Motioncapture dancin">
        <div class="overlay">mocap<br><small>MotionCapture Unity VR Â· 2023</small></div>
        <button class="close-btn" aria-label="Close">&times;</button>
      </article>

      <article id="water" class="work-card" data-sign="-1">
        <img class="work-cover" src="assets/img/works/liquidmemory.jpg" alt="Liquid Memory">
        <div class="overlay">Liquid Memory<br><small>installation Arduino Â· 2024</small></div>
        <button class="close-btn" aria-label="Close">&times;</button>
      </article>

      <article id="AI" class="work-card" data-sign="1">
        <img class="work-cover" src="assets/img/works/mechanicalgarden.jpg" alt="Mechanical Garden">
        <div class="overlay">dream<br><small>Unreal Engine 4 Â· 2023</small></div>
        <button class="close-btn" aria-label="Close">&times;</button>
      </article>
    </div>
  </main>

  <!-- ===== Modal for Yu ===== -->
  <div id="modalOverlay" class="modal-overlay hidden">
    <div class="modal">
      <button id="closeModal" class="close" aria-label="Close">&times;</button>
      <!-- Video -->
      <div class="videoWrap"><iframe src="https://www.youtube.com/embed/fQroMDVXbRU" title="Hiphop dancer Yu" frameborder="0" allowfullscreen></iframe></div>
      <!-- Intro -->
      <p class="intro">Centered around the authorâ€‘artistâ€™s favourite game <strong>Donâ€™t Starve Together</strong>, this work blends her comingâ€‘ofâ€‘age story with the realities of Chinaâ€™s streetâ€‘dance scene â€¦</p>
      <!-- Photos injected by JS -->
      <div class="photos"></div>
    </div>
  </div>

  <!-- ===== Scripts ===== -->
  <script>
  /* --- Intersection reveal & parallax (unchanged) --- */
  const io=new IntersectionObserver(es=>{es.forEach(e=>{if(e.isIntersecting){e.target.classList.add('in-view');io.unobserve(e.target);}})},{threshold:0.3});document.querySelectorAll('.work-card').forEach(c=>io.observe(c));
  function updateParallax(){const vh=innerHeight;document.querySelectorAll('.work-card.in-view:not(.expanded)').forEach(card=>{const r=card.getBoundingClientRect();const p=(r.top+r.height*0.5)/vh;const sign=parseInt(card.dataset.sign)||1;card.style.setProperty('--parallax',((p-0.5)*80*sign).toFixed(1)+'px');});}
  addEventListener('scroll',updateParallax,{passive:true});addEventListener('load',updateParallax);addEventListener('resize',updateParallax);

  /* --- Modal vs original card expand --- */
  const modalOverlay=document.getElementById('modalOverlay');
  const closeModalBtn=document.getElementById('closeModal');

  document.querySelectorAll('.work-card').forEach(card=>{
    if(card.id==='yu'){
      card.addEventListener('click',e=>{e.stopPropagation();modalOverlay.classList.remove('hidden');document.body.style.overflow='hidden';});
    }else{
      const overlay=card.querySelector('.overlay');const short=overlay.innerHTML;const sign=parseInt(card.dataset.sign)||1;
      const close=card.querySelector('.close-btn');
      card.addEventListener('click',()=>{
        if(card.classList.contains('expanded'))return;
        const rect=card.getBoundingClientRect();card.style.setProperty('--original-top',`${rect.top}px`);card.style.setProperty('--original-left',`${rect.left}px`);card.style.setProperty('--original-width',`${rect.width}px`);card.style.setProperty('--original-height',`${rect.height}px`);
        overlay.innerHTML=short;/* keep brief or replace with full if you have */
        card.classList.add('expanded',sign===1?'expanded-left':'expanded-right');
        document.body.style.overflow='hidden';
      });
      const collapse=()=>{card.classList.remove('expanded','expanded-left','expanded-right');overlay.innerHTML=short;document.body.style.overflow='auto';};
      close.addEventListener('click',e=>{e.stopPropagation();collapse();});
      document.addEventListener('click',e=>{if(card.classList.contains('expanded')&&!card.contains(e.target)){collapse();}});
    }
  });
  closeModalBtn.addEventListener('click',()=>{modalOverlay.classList.add('hidden');document.body.style.overflow='auto';});

  /* --- Inject photo thumbnails into modal --- */
  const photos=['dancer.png','dancer (2).png','dancer (3).png','dancer (4).png','dancer (5).png','dancer (6).png','dancer (7).png','dancer (8).png','dancer (9).png','dancer (10).png','dancer (11).png','dancer (12).png','dancer (13).jpg','dancer (14).jpg','dancer (15).jpg'];
  const photoBox=document.querySelector('#modalOverlay .photos');photos.forEach(file=>{const img=new Image();img.src=`assets/photo/${file}`;img.alt=file;photoBox.appendChild(img);});
  </script>
</body>
</html>
